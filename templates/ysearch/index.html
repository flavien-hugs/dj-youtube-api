{% load static %}
{% get_static_prefix as STATIC_PREFIX %}

<!--[if IE 7]><html class="ie ie7"><![endif]-->
<!--[if IE 8]><html class="ie ie8"><![endif]-->
<!--[if IE 9]><html class="ie ie9"><![endif]-->


<!DOCTYPE html>
    <html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <meta name="description" content="{{ site_description }}">
        <meta name="keywords" content="{{ meta_keyword }}">
        <meta name="author" content="flavien-hugs">

        <!-- Facebook and Twitter integration -->
        <meta property="og:title" content="">
        <meta property="og:image" content="">
        <meta property="og:url" content="">
        <meta property="og:site_name" content="">
        <meta property="og:description" content="">
        <meta name="twitter:title" content="">
        <meta name="twitter:image" content="">
        <meta name="twitter:url" content="">
        <meta name="twitter:card" content="">

        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <!-- custom core CSS -->
        <link rel="stylesheet" type="text/css" href="{{ STATIC_PREFIX }}custom.css">

        <!--[if lt IE 9]>
        <script src="js/respond.min.js"></script>
        <![endif]-->

        <!--[if IE 7]><body class="ie7 lt-ie8 lt-ie9 lt-ie10"><![endif]-->
        <!--[if IE 8]><body class="ie8 lt-ie9 lt-ie10"><![endif]-->
        <!--[if IE 9]><body class="ie9 lt-ie10"><![endif]-->

        <title>
            {% if request.GET.q %}
                {{ request.GET.q }}
            {% endif %}
                {{ site_name }} &smid; {{ site_description }}
        </title>
    </head>


    <body>
        <div class="flex-center flex-column">
            <main role="main" class="card-container">
                <section class="jumbotron text-center">
                    <div class="container">
                        <h1 class="jumbotron-heading text-dark font-weight-bold">{{ site_name }}</h1>
                        <p class="lead text-info">{{ site_description }}</p>

                        <div class="header-search">
                            <form method="POST">
                                <div class="input-group mb-2">
                                    {% csrf_token %}

                                    <div class="input-group-append shadow-none">
                                        <button class="search-youtube shadow-none border-0 input-group-text btn-success text-white" type="submit" name="submit" value="search" required>Rechercher</button>
                                    </div>

                                    <input type="search" name="search" class="input form-control border shadow-none" placeholder="Taper votre recherche ici ..." autocomplete="false" aria-label="search">

                                    <div class="input-group-append shadow-none">
                                        <button class="search-btn shadow-none border-0 input-group-text btn-success text-white" type="submit" name="submit" value="lucky" required>YouTube</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <div class="container">
                    <div class="row">
                        {% for video in videos %}
                            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                                <div class="card mb-2 shadow-sm border-0 rounded">
                                    <img src="{% if video.thumbnail %}{{ video.thumbnail }}{% endif %}" alt="{{ video.title }}" class="img-fluid d-block mx-auto">

                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <a href="{% if video.url %}{{ video.url }}{% endif %}" target="blank" class="small text-dark">{{ video.title }}</a>
                                        </h5>

                                        <div class="d-flex justify-content-between align-items-center">
                                            <a href="{% if video.url %}{{ video.url }}{% endif %}" target="blank" class="font-weight-bold text-capitalize">lire </a>

                                            <small class="text-muted font-weight-bold text-capitalize">
                                                {% if video.stat %}
                                                    {{ video.stat|add:" vues" }}
                                                {% endif %}
                                            </small>

                                            <small class="text-muted font-weight-bold text-capitalize">
                                                {% if video.duree %}
                                                    {{ video.duree }} mins
                                                {% endif %}
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </main>
        </div>

        <footer class="bg-light pb-5">
            <div class="container text-center">
                <p class="font-italic text-muted mb-0">&copy; <script>document.write(new Date().getFullYear());</script> Tous droits réservés par unsta Inc.</p>
            </div>
        </footer>
    </body>
</html>
